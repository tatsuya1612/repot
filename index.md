@def hascode = true


@def title = "The last report of 2024-05-julia"

Last Modified: {{ fd_mtime }}
# 目次
\toc

## はじめに
突然ですが、みなさん**Julia**という言語を知っていますか？この言語は最近出てきたばかりの言語なので、まだ馴染みのない人は多くいると思います。
しかし、このAIの機械学習などの発展の自体の中非常に注目されている言語でもあります。

そこで今回は**Julia**という言語について詳しく探って、演算子の追加と、追加パッケージの`Flanklin.jl`でのadmonitionの追加をしてみようと思います。

## そもそもJuliaとは？
* **MITで開発された言語**
Julia言語はマサチューセッツ工科大学(MIT)で『**高度な数値解析や科学技術計算が可能で実行速度も速く**、他の言語の良いところだけを組み合わせた言語を目指し』て作られた言語です。"C言語の様に早い"が、"Pythonのように直感的"に書けるような言語体系を目指して作られました。

* **C言語で基本的な構造をが書かれている**
多くの基本的な言語体系や、機能自体の根幹は**C言語**で書かれています。
Julia言語とC言語を行き来するような関数が定義されていて、プログラマの書き方などはJuliaで、その実際の機能はC言語の関数を用いるという流れになっています。

* **JITコンパイル方式を採用**
先ほども書きましたが、Juliaは、早く動作することにも重きを置かれています。
そこで、Juliaはコンパイルの際にC言語のようなAOTコンパイルではなく、**JITコンパイル**という方式を採用しています。

**JITコンパイル**とは、実際にプログラムが書かれて実行される直前に、**必要な関数のみをコンパイル**する方式で行われます。

例えば`./julia> 3 + 4`と書かれたら、`+`を実行するのに必要な部分のみがコンパイルされ、その後`+`を用いる計算の時は、コンパイル済みの部分を使うという方式です。

これにすることで、最初に関数を実行する際のみ少しだけ時間がかかりますが、そのあとはいちいちコンパイルし直すさないので、一瞬で答えを導くことが可能となります。この様にして、より高速な実行が可能となっているのです。

!!! Info
title="AOTコンパイルとは"
・C言語でよく使われるもの
・実行前にソースコードや中間コードをコンパイルする方法である
・JITコンパイルと比較してメモリ消費量が少ない
!!!

これら以上に挙げたものがこのJuliaという言語の特徴です。（他にもあります。例えば多重ディスパッチなど）

!!! Summary
title="Julia言語の特徴"
①書きやすく、早い言語
②C言語を用いて書かれている
③JITコンパイル
!!!
## ビルド方法
では実際にJuliaのソースコードをいじれる様にしていきましょう。
今回は2024-05-juliaというgitのリポジトリからいじることにします。

!!! Warning
title="開発環境について"
今回はUbuntuと、MacBook Air Apple M1チップで、Visual Stadio Code で動作を確認しています。他のパソコン・アプリでもできると思いますが、保証はできません…
!!!

**①[Julia公式サイトのHP](https://github.com/JuliaLang/julia)からローカルにダウンロード**
まずはgitの自分たちのリポジトリ(2024-05-julia)にgit cloneします。

その後、チーム各々がローカルで作業し、衝突などを起こさないようにgit管理できる様にします。

```C
$git clone https://github.com/doss-eeic/2024-05-julia.git
$git make -j8 #"-j8"はコアを８個使うという意味。つけなければビルドに時間がかかってしまいます。
$git make install
```
これをすることでJuliaが使える様になるはずだ！

```C
$./julia
```
と入力することで以下の様なターミナルの画面になるはずです。

```C
               _
   _       _ _(_)_     |  Documentation: https://docs.julialang.org
  (_)     | (_) (_)    |
   _ _   _| |_  __ _   |  Type "?" for help, "]?" for Pkg help.
  | | | | | | |/ _` |  |
  | | |_| | | | (_| |  |  Version 1.12.0-DEV.1335 (2024-10-08)
 _/ |\__'_|_|_|\__'_|  |  Commit a9f56c5021* (30 days old master)
|__/                   |

julia> 
```

### Flanklin.jlの導入
次に`Flanklin.jl`が同じフォルダから操作できるように統合してみましょう。
**①.REPLを起動**
```bash
$./julia
```
このコマンドを入力して、juliaのREPLを起動します。

**②Franklin.jlのパッケージを追加**
まず"]"を入力てください。
```bash
(@v1.12) pkg> 
```
上記の表示に変わります。この状態で以下のコマンドを入力してください。
```bash
(@v1.12) pkg> dev "Franklin.jlへのパス"
```
例えば、Franklin.jlが/home/denjo/2024-05-julia/Franklin.jlにある場合は以下を入力します。
```bash
(@v1.12) pkg> dev /home/denjo/2024-05-julia/Franklin.jl
```

これでFranklin.jlのビルドは完了です。

**③サイトの起動**
通常のターミナルで以下を実行してみましょう。
```bash
$./julia examples/fra.jl
```
私達のブログのページが表示されたら成功です！

## Juliaに演算子を追加してみた
Juliaには多くの演算子や関数が標準搭載されており、ユーザのやりたいことはほとんどできる様になっています。
その中に、コンビネーションの計算をする関数 `binominal()` もありますが、もっと直感的に書こうと考えました！

非常に長くなるので、演算子追加については[こちら](/operators/)を参照

## Franklin.jlのadmonitionを機能拡張してみた
次にadmonition機能を拡張してみました。デフォルトのadmonition機能だと少しみにくかったり、Note機能しかなかったりとなかなか不便だなと感じました。（感じますよね？？？？）

こちらも少し長くなるので[こちら](/toki)を参照のこと。

## まとめ

今回はJuliaという言語について
*演算子"~"の追加
*Franklin.jlのadmonition機能の追加
という機能拡張を行ってみました。

今後もJuliaは一般の多くのユーザによって発展し続けていきます。みなさんも欲しい機能を追加してみてはいかかでしょうか？